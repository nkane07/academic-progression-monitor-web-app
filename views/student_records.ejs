<!DOCTYPE html>
<html>
<head>
  <title>Progression Statistics</title>
  <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
</head>
<body>
  <header>
    <h3>Academic Progression</h3>
    <nav>
      <a href="/student/profile" class="button">Profile</a>
      <a href="/student" class="button">Dashboard</a>
      <a href="/logout" class="button">Logout</a>
    </nav>
  </header>

  <main>
    <h2>Progression Statistics</h2>

    <h3>Module Grades</h3>
    <table>
      <thead>
        <tr>
          <th>Academic Year</th>
          <th>Module Name</th>
          <th>Grade</th>
          <th>Grade Result</th>
        </tr>
      </thead>
      <tbody>
        <% records.forEach(record => { %>
          <tr>
            <td><%= record.academic_year %></td>
            <td><%= record.module_name %></td>
            <td><%= record.grade %></td>
            <td><%= record.grade_result %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>

    <p><strong>Level / Stage:</strong> <%= currentLevel %></p>


    <h3>Progression Summary</h3>
<p><strong>Level / Stage:</strong> <%= currentLevel %></p>
<p><strong>Total Credits:</strong> <%= totalCredits %> / <%= requiredCredits %></p>
<p><strong>Average Grade:</strong> <%= averageGrade %> (Min 40%)</p>
<p><strong>Failed Modules:</strong> <%= failedModules.join(', ') || 'None' %></p>
<p><strong>Modules requiring resit:</strong> <%= resitModules.join(', ') || 'None' %></p>

    
    <h3>Progression Decision:</h3>
    <p><strong><%= decision %></strong></p>
    

   
  </main>

  <footer>
    <p>University Â© <%= currentYear %></p>
  </footer>
</body>
</html>
